#coding=utf-8

import string, os, sys  

arg = sys.argv

dir = arg[1]
lable = string.atoi(arg[2])
freq = string.atoi(arg[3])
print dir
print lable
print freq

fw = open('trainfile.list','a+')

count = 1
for root, dirs, files in os.walk(dir): 
    for name in files:
        filename = os.path.join(root, name)
        if (count % freq) == 0:
            fw.write('%d,%s\n'%(lable,filename))
        count += 1

print count

fw.close()
