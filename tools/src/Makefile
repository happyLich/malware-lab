SHELL=/bin/sh
# Where you want it installed when you do 'make install'
PREFIX=/usr/local/
PECKER_INC_SRC=/root/src/lib/
PECKER_CFLAGS_NOERR:=-I/usr/include\
    -pipe -fPIC -O2 -fno-strict-aliasing -fno-common -g -std=c99
PECKER_CXXFLAGS_NOERR:=-I/usr/include\
    -pipe -fPIC -O2 -fno-strict-aliasing -fno-common -g

GCC = g++

TARGET=all
CSV_TO_SVM_LD_FLAGS += -L/usr/local/lib -lbase
CFLAGS += ${PECKER_CFLAGS_NOERR} -I/usr/local/include -I${PECKER_INC_SRC}
CXXFLAGS += ${PECKER_CXXFLAGS_NOERR} -I/usr/local/include -I${PECKER_INC_SRC}

all:csv_to_svm

CSV_TO_SVM_OBJS = csv_to_svm.o

csv_to_svm: $(CSV_TO_SVM_OBJS)
	$(CC) $(CSV_TO_SVM_OBJS) $(CSV_TO_SVM_LD_FLAGS) -o csv_to_svm

install:
	cp csv_to_svm /usr/local/bin/csv_to_svm

%.o: %.c
	$(CC) $(CFLAGS) -c $< -o $@

%.o: %.cpp
	$(GCC) $(CXXFLAGS) -c $< -o $@

clean:
	rm -f csv_to_svm *.o *.so
